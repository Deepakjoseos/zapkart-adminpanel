(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1021:function(e,t,n){"use strict";n.r(t);n(583);var a=n(582),r=(n(452),n(440)),c=(n(473),n(468)),i=(n(224),n(98)),o=(n(225),n(151)),l=(n(447),n(27)),s=n(3),u=n.n(s),p=n(31),f=n(37),m=n(14),d=n(15),b=n(17),v=n(16),y=n(18),h=n(0),g=n.n(h),E=n(100),O=n(405),k=n(592),j=n(635),C=n(846),w=n(6),S=n(150),x=function(e){var t=e.updateData,n=Object(h.useState)(null),a=Object(S.a)(n,2),c=a[0],o=a[1],l=Object(h.useState)(null),s=Object(S.a)(l,2),f=s[0],m=s[1],d=function(){var e=Object(p.a)(u.a.mark(function e(){var n,a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},c&&(n.status=c),f&&(n.orderByPriority=f),a=Object.keys(n).map(function(e){return"".concat(e,"=").concat(n[e])}).join("&"),e.next=6,Object(C.d)(a);case 6:(r=e.sent)&&r.data?t(r.data):console.log("hi");case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(u.a.mark(function e(){var n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)("");case 2:(n=e.sent)&&n.data?(a=n.data.filter(function(e){return"Deleted"!==e.status}),t(a),o(null),m(null)):console.log("hi");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",{className:"filter-container"},g.a.createElement("h5",null,g.a.createElement("strong",null,"Filters")),g.a.createElement("div",{className:"filter-list"},g.a.createElement("div",{className:"filter-item"},g.a.createElement("div",{className:"label"},"Status"),g.a.createElement(r.a,{allowClear:!0,style:{width:"100%"},value:c,onChange:function(e){return o(e)}},g.a.createElement(r.a.Option,{key:"Actice",value:"Active"},"Active"),g.a.createElement(r.a.Option,{key:"Hold",value:"Hold"},"Hold"))),g.a.createElement("div",{className:"filter-item"},g.a.createElement("div",{className:"label"},"orderByPriority"),g.a.createElement(r.a,{allowClear:!0,style:{width:"100%"},value:f,onChange:function(e){return m(e)}},g.a.createElement(r.a.Option,{key:!0,value:!0},"Yes"),g.a.createElement(r.a.Option,{key:!1,value:!1},"No")))),g.a.createElement("div",{className:"filter-footer"},g.a.createElement(i.a,{type:"primary",onClick:d},"Submit"),g.a.createElement(i.a,{type:"dashed",onClick:b},"Cancel")))},D=[4,10,20,50],N=[{key:"Active",title:"Active"},{key:"Hold",title:"Hold"}],P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={tableData:[],loading:!0,selectedData:{},selectedRowKeys:[],pagination:{current:1,pageSize:10,total:0}},n.updateTableData=function(e){n.setState(function(t){return Object(f.a)({},t,{tableData:e,pagination:{current:1,pageSize:t.pagination.pageSize,total:e.length}})})},n.handleMenuClick=function(){var e=Object(p.a)(u.a.mark(function e(t){var a,r,c,i,o,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,r=a.clickedId,c=a.tableData,i=n.state.selectedData,o={name:i.name,image:i.image,priority:i.priority,status:t.key},e.next=5,Object(C.c)(r,o);case 5:if(!e.sent){e.next=10;break}return l=c.findIndex(function(e){return e.id===r}),c[l].status=t.key,e.abrupt("return",n.setState(function(e){return Object(f.a)({},e.data,{clickedId:null})}));case 10:return n.setState({clickedId:null}),e.abrupt("return",null);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleStatusClick=function(e,t){n.setState({clickedId:e}),n.setState({selectedData:t})},n.handleDelete=function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)(t);case 2:e.sent&&n.setState(function(e){var n=e.tableData.filter(function(e){return e.id!==t});return Object(f.a)({},e,{tableData:n})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.fetchDetails=Object(p.a)(u.a.mark(function e(){var t,a,r,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n.setState({loading:!0}),e.next=4,Object(C.d)("");case 4:a=e.sent,r=a.data.filter(function(e){return"Deleted"!==e.status}),a&&a.data?n.setState({loading:!1,tableData:r,pagination:Object(f.a)({},t.pagination,{total:a.count})}):n.setState({loading:!1});case 7:case"end":return e.stop()}},e)})),n.handleTableChange=function(e,t,a){console.log("handleTableChange params",e,t,a),n.setState(function(t){return Object(f.a)({},t,{pagination:Object(f.a)({},t.pagination,{current:Number(e.current),pageSize:Number(e.pageSize)})})})},n.handleLimitChange=function(e){console.log("SElelLimit",e),n.setState(function(t){return Object(f.a)({},t,{pagination:Object(f.a)({},t.pagination,{pageSize:Number(e)})})})},n.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),n.setState({selectedRowKeys:e})},n}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.pagination;this.fetchDetails({pagination:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tableData,s=t.pagination,u=t.selectedRowKeys,p=t.loading,f=g.a.createElement(j.a,{items:N,onClick:this.handleMenuClick}),m=[{title:"Name",dataIndex:"name",key:"name",search:!0,sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Image",dataIndex:"image",key:"image",render:function(e,t){return g.a.createElement("span",{className:"thumbnail-area"},g.a.createElement("img",{src:t.image,alt:t.name}))}},{title:"Priority",dataIndex:"priority",key:"priority"},{title:"Status",dataIndex:"status",key:"status",render:function(t,n){var a="badge-success";return"Hold"===n.status&&(a="badge-danger"),g.a.createElement(o.a,{overlay:f,ref:e.clickId,id:n._id,onClick:function(){return e.handleStatusClick(n.id,n)},trigger:["click"]},g.a.createElement("span",{className:"font-size-12 badge ".concat(a," 'badgeText'")},t.toUpperCase(),g.a.createElement(l.a,{type:"down"})))},filters:[{label:"Active",value:"Active"},{label:"Hold",value:"Hold"}]},{title:"Action",key:"action",render:function(t){return g.a.createElement("span",null,g.a.createElement(O.a,{to:"".concat(w.o.editBrand,"/").concat(t.id)},g.a.createElement(i.a,{icon:"edit",className:"mr-1",size:"small"})),n.length>=1?g.a.createElement(c.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(t.id)}},g.a.createElement(i.a,{icon:"close",size:"small"})):null)}}];return g.a.createElement("div",null,g.a.createElement(E.Helmet,{title:"Brands List"}),g.a.createElement("div",{className:"card"},g.a.createElement("div",{className:"card-header"},g.a.createElement("div",{className:"utils__title"},g.a.createElement("strong",null,"Brands List"),g.a.createElement(k.a,{add:!0,selectedRowKeys:u,attribute:"brand",link:"".concat(w.o.addBrand),handleDelete:this.handleDelete}))),g.a.createElement("div",{className:"card-body"},g.a.createElement(x,{updateData:this.updateTableData}),D.length>0&&g.a.createElement("div",{className:"right-flex"},g.a.createElement("span",null,g.a.createElement("strong",null,"Items per page:\xa0")),g.a.createElement(r.a,{value:Number(s.pageSize),onChange:this.handleLimitChange},D.map(function(e){return g.a.createElement(r.a.Option,{key:e},Number(e))}))),g.a.createElement(a.a,{loading:p,className:"utils__scrollTable",scroll:{x:"100%"},columns:m,dataSource:n,rowKey:function(e){return e._id},limits:D,currentPage:s.current,limit:s.pageSize,total:s.total,pagination:s,onChange:this.handleTableChange}))))}}]),t}(g.a.Component);t.default=P},447:function(e,t,n){"use strict";n(61),n(501)},468:function(e,t,n){"use strict";var a=n(0),r=n(30),c=n(152),i=n(27),o=n(98),l=n(70),s=n(84),u=n(68);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,a["Component"]);var t,n,r,i=b(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=i.call(this,e)).onConfirm=function(e){t.setVisible(!1,e);var n=t.props.onConfirm;n&&n.call(v(t),e)},t.onCancel=function(e){t.setVisible(!1,e);var n=t.props.onCancel;n&&n.call(v(t),e)},t.onVisibleChange=function(e){t.props.disabled||t.setVisible(e)},t.saveTooltip=function(e){t.tooltip=e},t.renderOverlay=function(e,n){var r=t.props,c=r.okButtonProps,i=r.cancelButtonProps,l=r.title,s=r.cancelText,u=r.okText,p=r.okType,m=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},m,a.createElement("div",{className:"".concat(e,"-message-title")},l)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(o.a,f({onClick:t.onCancel,size:"small"},i),s||n.cancelText),a.createElement(o.a,f({onClick:t.onConfirm,type:p,size:"small"},c),u||n.okText))))},t.renderConfirm=function(e){var n=e.getPrefixCls,r=t.props,i=r.prefixCls,o=r.placement,u=h(r,["prefixCls","placement"]),p=n("popover",i),m=a.createElement(l.a,{componentName:"Popconfirm",defaultLocale:s.a.Popconfirm},function(e){return t.renderOverlay(p,e)});return a.createElement(c.a,f({},u,{prefixCls:p,placement:o,onVisibleChange:t.onVisibleChange,visible:t.state.visible,overlay:m,ref:t.saveTooltip}))},t.state={visible:e.visible},t}return t=p,r=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(n=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(u.a,null,this.renderConfirm)}}])&&m(t.prototype,n),r&&m(t,r),p}();g.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(i.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r.polyfill)(g),t.a=g},473:function(e,t,n){"use strict";n(61),n(577),n(224)},501:function(e,t,n){},577:function(e,t,n){},592:function(e,t,n){"use strict";n(473);var a=n(468),r=(n(226),n(152)),c=(n(224),n(98)),i=(n(447),n(27)),o=n(0),l=n.n(o),s=n(405);t.a=function(e){var t=e.link,n=e.selectedRowKeys,o=void 0===n?0:n,u=e.attribute,p=void 0===u?"":u,f=e.handleDelete,m=e.add,d=e.onClick,b=e.onRemove,v=e.pullRight,y=void 0===v||v;return l.a.createElement("div",{className:y?"pull-right":""},m&&l.a.createElement(r.a,{placement:"topLeft",title:"Add new ".concat(p)},t&&l.a.createElement(s.a,{to:t},l.a.createElement(i.a,{type:"plus-circle",theme:"filled",style:{fontSize:"30px"}})),!t&&l.a.createElement(c.a,{onClick:function(){d&&d()},className:"border-0"},l.a.createElement(i.a,{type:"plus-circle",theme:"filled",style:{fontSize:"30px"}}))),b&&l.a.createElement(r.a,{placement:"topLeft",title:"Remove ".concat(p)},t&&l.a.createElement(s.a,{to:t},l.a.createElement(i.a,{type:"minus-circle",theme:"filled",style:{fontSize:"30px",color:"red"}})),!t&&l.a.createElement(c.a,{onClick:b,className:"border-0"},l.a.createElement(i.a,{type:"minus-circle",theme:"filled",style:{fontSize:"30px",color:"red"}}))),o.length>0&&l.a.createElement(r.a,{placement:"bottomRight",title:1===o.length?"Delete ".concat(p):"Delete ".concat(p,"s")},l.a.createElement(a.a,{title:"Delete ".concat(o.length," ").concat(1===o.length?"".concat(p):"".concat(p,"s")),onConfirm:function(){return f()}},l.a.createElement(i.a,{theme:"filled",type:"delete",style:{fontSize:"30px"}}))))}},635:function(e,t,n){"use strict";n(126);var a=n(22),r=n(0),c=n.n(r),i=c.a.memo(function(e){var t=e.items,n=e.onClick;console.log("in menu");return c.a.createElement(a.a,{onClick:function(e){console.log("clicked",e),n&&n(e)}},t.map(function(e){return c.a.createElement(a.a.Item,{key:e.key},e.title)}))});t.a=i},846:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return v});var a=n(150),r=n(3),c=n.n(r),i=(n(99),n(32)),o=n(31),l=n(71),s=n(6).g.getBrands;function u(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("".concat(s,"?").concat(t));case 3:if(!(n=e.sent).data){e.next=6;break}return e.abrupt("return",{data:n.data});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i.a.error({message:"Error!",description:e.t0.message});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"/").concat(t),a={method:"DELETE"},e.prev=2,e.next=5,Object(l.a)(n,a);case 5:if(!e.sent){e.next=9;break}return i.a.success({message:"Delete Successfully"}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 12:return e.prev=12,e.t0=e.catch(2),i.a.error({message:"Error!",description:e.t0.message}),e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function d(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(c.a.mark(function e(t){var n,r,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=new FormData,Object.entries(t).map(function(e){var t=Object(a.a)(e,2),r=t[0],c=t[1];return n.append(r,c),null}),r="".concat(s),o={method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}},e.prev=5,e.next=8,Object(l.a)(r,o);case 8:if(!(u=e.sent)||!u.data){e.next=11;break}return e.abrupt("return",u.data);case 11:return e.abrupt("return",null);case 14:return e.prev=14,e.t0=e.catch(5),i.a.error({message:"Error!",description:e.t0.message}),e.abrupt("return",null);case 18:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}function v(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(c.a.mark(function e(t,n,r){var o,u,p,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),o="".concat(s,"/").concat(t),u=new FormData,console.log("values.image",n.image),p=["name","status","image","priority"],Object.entries(n).map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return p.includes(n)&&u.append(n,r),""}),f={method:"PUT",body:JSON.stringify(n),headers:{"Content-type":"application/json"}},e.prev=7,e.next=10,Object(l.a)(o,f);case 10:if(!e.sent){e.next=13;break}return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(7),i.a.error({message:"Error!",description:e.t0.message}),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[7,16]])}))).apply(this,arguments)}}}]);
//# sourceMappingURL=87.3afce59d.chunk.js.map